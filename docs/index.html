<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Management System | Documentation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="auth.css">
    <link rel="stylesheet" href="navbar.css">
    <script src="main.js" defer></script>
</head>

<body>
<nav class="navbar">
    <div class="navbar-container">
        <div class="logo-group">
            <span class="logo-icon">üè•</span>
            <span class="logo-text">Patient Management System</span>
        </div>
        <div class="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>
</nav>

<div class="app-layout">
    <aside class="sidebar">
        <nav class="sidebar-nav">
            <ul>
                <li><a href="#overview" class="nav-item">Overview</a></li>
                <li><a href="#architecture" class="nav-item">System Architecture</a></li>
                <li><a href="#microservices-details" class="nav-item">Microservices Details</a></li>
                <li><hr class="nav-divider"></li>
                <li><span class="nav-label">Flow Diagrams</span></li>
                <li><a href="#how-auth-and-autho-works" class="nav-item">Auth Flow</a></li>
                <li><a href="#appointment-validation-flow" class="nav-item">Appointment Flow</a></li>
                <li><a href="#billing-validation-flow" class="nav-item">Invoice Flow</a></li>
                <li><a href="#api-gateway-flow" class="nav-item">API Gateway Flow</a></li>
                <li><hr class="nav-divider"></li>
                <li><a href="#devops-deployment-flow" class="nav-item">Deployment</a></li>
                <li><a href="#postman-collection" class="nav-item">API Reference</a></li>
                <li><a href="#key-features" class="nav-item">Core Features</a></li>
                <li><a href="#why-this" class="nav-item">Design Philosophy</a></li>
               
            </ul>
        </nav>
    </aside>

    <main class="main-content">
        <header class="doc-header">
            <h1>Documentation</h1>
            <p>Enterprise microservices architecture for healthcare management systems.</p>
        </header>

        <!-- Overview -->
        <section class="doc-section" id="overview">
            <h2>Project Overview</h2>
            <p class="section-desc">This modular backend system manages healthcare entities like appointments, patients, and billing. It leverages a modern, distributed architecture to ensure high availability and data integrity.</p>

            <div class="info-grid">
                <div class="info-card">
                    <div class="card-icon">üèóÔ∏è</div>
                    <h4>Distributed Nodes</h4>
                    <p>7 specialized microservices coupled with an edge API Gateway.</p>
                </div>
                <div class="info-card">
                    <div class="card-icon">üì¶</div>
                    <h4>Infrastructure</h4>
                    <p>Full container orchestration via Docker and Compose.</p>
                </div>
                <div class="info-card">
                    <div class="card-icon">‚ö°</div>
                    <h4>Event Pipeline</h4>
                    <p>Asynchronous synchronization using Apache Kafka.</p>
                </div>
                <div class="info-card">
                    <div class="card-icon">üíæ</div>
                    <h4>Data Persistence</h4>
                    <p>PostgreSQL (Relational) and MongoDB (Document) hybrid stack.</p>
                </div>
            </div>
        </section>

        <!-- System Architecture -->
        <section class="doc-section" id="architecture">
            <h2>System Architecture</h2>
            <p class="section-desc">Global routing and service port assignments across the ecosystem.</p>

            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Service Identifier</th>
                            <th>Host Port</th>
                            <th>Storage Engine</th>
                            <th>Core Responsibility</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="badge badge-primary">API Gateway</span></td>
                            <td><code>4004</code></td>
                            <td>N/A</td>
                            <td>Global routing & Load balancing</td>
                        </tr>
                        <tr>
                            <td><span class="badge badge-secondary">Patient Service</span></td>
                            <td><code>8080</code></td>
                            <td>PostgreSQL</td>
                            <td>Identity & Health records</td>
                        </tr>
                        <tr>
                            <td><span class="badge badge-secondary">Billing Service</span></td>
                            <td><code>8081</code></td>
                            <td>PostgreSQL</td>
                            <td>Transactional billing & PDFs</td>
                        </tr>
                        <tr>
                            <td><span class="badge badge-info">Analytics Service</span></td>
                            <td><code>8082</code></td>
                            <td>MongoDB</td>
                            <td>BI & Event aggregation</td>
                        </tr>
                        <tr>
                            <td><span class="badge badge-secondary">Doctor Service</span></td>
                            <td><code>8083</code></td>
                            <td>PostgreSQL</td>
                            <td>Directory & Availability</td>
                        </tr>
                        <tr>
                            <td><span class="badge badge-secondary">Appointment Svc</span></td>
                            <td><code>8084</code></td>
                            <td>PostgreSQL</td>
                            <td>Scheduling & Orchestration</td>
                        </tr>
                        <tr>
                            <td><span class="badge badge-secondary">Auth Service</span></td>
                            <td><code>8089</code></td>
                            <td>PostgreSQL</td>
                            <td>IAM & JWT Provisioning</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Microservices Details -->
        <section class="doc-section" id="microservices-details">
            <h2>Microservices Details</h2>
            <div class="service-details-grid">
                <div class="detail-card">
                    <div class="detail-card-header">
                        <span class="service-id">üë• Patient Service</span>
                    </div>
                    <div class="card-meta">
                        <code>POSTGRESQL</code> ‚Ä¢ <code>PORT 8080</code>
                    </div>
                    <p>Centralized authority for patient demographic data. It functions as the source of truth for patient identity and provides event triggers for lifestyle and attendance analytics.</p>
                    <pre class="code-snipp"><code>{
  "id": "UUID",
  "name": "String",
  "email": "String",
  "registeredDate": "LocalDate"
}</code></pre>
                </div>

                <div class="detail-card">
                    <div class="detail-card-header">
                        <span class="service-id">üë®‚Äç‚öïÔ∏è Doctor Service</span>
                    </div>
                    <div class="card-meta">
                        <code>POSTGRESQL</code> ‚Ä¢ <code>PORT 8083</code>
                    </div>
                    <p>Manages professional profiles, departmental mapping, and license verification. It ensures all practicing entities within the system are valid and authorized.</p>
                    <pre class="code-snipp"><code>{
  "id": "UUID",
  "specialization": "ENUM",
  "available": "Boolean",
  "license": "String"
}</code></pre>
                </div>

                <div class="detail-card">
                    <div class="detail-card-header">
                        <span class="service-id">üìÖ Appointment Service</span>
                    </div>
                    <div class="card-meta">
                        <code>POSTGRESQL</code> ‚Ä¢ <code>PORT 8084</code>
                    </div>
                    <p>The system's orchestrator. It verifies patient/doctor availability via cross-calls and initiates the billing lifecycle upon successful booking.</p>
                    <pre class="code-snipp"><code>{
  "patientId": "UUID",
  "doctorId": "UUID",
  "amount": "Float",
  "paymentStatus": "Boolean"
}</code></pre>
                </div>

                <div class="detail-card">
                    <div class="detail-card-header">
                        <span class="service-id">üí∞ Billing Service</span>
                    </div>
                    <div class="card-meta">
                        <code>POSTGRESQL</code> ‚Ä¢ <code>PORT 8081</code>
                    </div>
                    <p>Consumer of transaction events. It handles ledger entries and generates legal invoice documents in PDF format for patient downloads.</p>
                </div>
            </div>
        </section>

        <!-- Auth Flow -->
        <section class="doc-section" id="how-auth-and-autho-works">
            <h2>Authentication Lifecycle</h2>
            <div class="interactive-flow">
                <div class="flow-status" id="status">System Ready</div>
                <div class="flow-stage">
                    <div class="stage-node" id="user">
                        <div class="node-icon">üë§</div>
                        <span>Client</span>
                    </div>
                    <div class="flow-arrow">‚Üí</div>
                    <div class="stage-node" id="gateway">
                        <div class="node-icon">üåê</div>
                        <span>Gateway</span>
                    </div>
                    <div class="flow-arrow">‚Üí</div>
                    <div class="stage-node" id="auth">
                        <div class="node-icon">üîê</div>
                        <span>Auth Svc</span>
                    </div>
                    <div class="flow-arrow">‚Üí</div>
                    <div class="stage-node" id="database">
                        <div class="node-icon">üóÑÔ∏è</div>
                        <span>Storage</span>
                    </div>
                </div>
                <div class="flow-controls">
                    <button class="btn btn-action" onclick="startAnimation()">Execute Login Auth</button>
                    <button class="btn btn-ghost" onclick="resetAnimation()">Reset Flow</button>
                </div>
                <div class="hidden-elements">
                    <div id="userResponse"></div>
                    <div id="gatewayResponse"></div>
                    <div id="authResponse"></div>
                    <div id="dbResponse"></div>
                    <div id="jwtToken"></div>
                    <div id="particles"></div>
                </div>
            </div>
        </section>

        <!-- Appointment Flow -->
        <section class="doc-section" id="appointment-validation-flow">
            <h2>Workflow: Appointment Validation</h2>
            <div class="workflow-steps">
                <div class="step">
                    <span class="step-idx">01</span>
                    <div class="step-content">
                        <h5>Ingestion</h5>
                        <p>Appointment Service receives the booking payload from the Gateway.</p>
                    </div>
                </div>
                <div class="step">
                    <span class="step-idx">02</span>
                    <div class="step-content">
                        <h5>Verification</h5>
                        <p>Synchronous REST calls to Patient and Doctor services confirm record validity.</p>
                    </div>
                </div>
                <div class="step">
                    <span class="step-idx">03</span>
                    <div class="step-content">
                        <h5>Persistence</h5>
                        <p>Validated entities are committed to the PostgreSQL relational store.</p>
                    </div>
                </div>
                <div class="step">
                    <span class="step-idx">04</span>
                    <div class="step-content">
                        <h5>Dispatch</h5>
                        <p>A 'PROCESSED' event is pushed to Kafka for the Billing and Analytics services.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Billing Flow -->
        <section class="doc-section" id="billing-validation-flow">
            <h2>Workflow: Automated Invoicing</h2>
            <div class="workflow-steps steps-horizontal">
                <div class="step">
                    <div class="step-content">
                        <h5>Consume</h5>
                        <p>Billing consumes Kafka events.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-content">
                        <h5>Process</h5>
                        <p>Unique invoice IDs generated.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-content">
                        <h5>Generate</h5>
                        <p>PDF generated via REST API.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- API Gateway Flow -->
        <section class="doc-section" id="api-gateway-flow">
            <h2>Workflow: Edge Routing</h2>
            <div class="workflow-steps">
                <div class="step">
                    <span class="step-idx">I</span>
                    <div class="step-content">
                        <h5>Ingress</h5>
                        <p>Traffic enters the system via the unified entry point on port 4004.</p>
                    </div>
                </div>
                <div class="step">
                    <span class="step-idx">II</span>
                    <div class="step-content">
                        <h5>Resolution</h5>
                        <p>Gateway examines the URI path and maps it to a downstream microservice host.</p>
                    </div>
                </div>
                <div class="step">
                    <span class="step-idx">III</span>
                    <div class="step-content">
                        <h5>Egress</h5>
                        <p>The request is proxied with updated headers to the target service node.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Deployment Flow -->
        <section class="doc-section" id="devops-deployment-flow">
            <h2>CI/CD & Infrastructure</h2>
            <div class="deployment-box">
                <div class="pipeline">
                    <div class="pipeline-item">
                        <div class="pipeline-icon">üêô</div>
                        <span>Push</span>
                    </div>
                    <div class="pipeline-item">
                        <div class="pipeline-icon">üèóÔ∏è</div>
                        <span>Build</span>
                    </div>
                    <div class="pipeline-item">
                        <div class="pipeline-icon">üê≥</div>
                        <span>Image</span>
                    </div>
                    <div class="pipeline-item">
                        <div class="pipeline-icon">üöÄ</div>
                        <span>Deploy</span>
                    </div>
                </div>
                <div class="tech-badges">
                    <span class="tech-tag">Docker</span>
                    <span class="tech-tag">Github Actions</span>
                    <span class="tech-tag">Spring Boot</span>
                    <span class="tech-tag">PostgreSQL</span>
                    <span class="tech-tag">Kafka</span>
                </div>
            </div>
        </section>

        <!-- API Reference -->
        <section class="doc-section" id="postman-collection">
            <h2>API Reference</h2>
            <div class="reference-card">
                <p>Access our comprehensive API documentation via Postman to explore endpoints, parameters, and sample response payloads.</p>
                <a href="https://www.postman.com/spacecraft-astronaut-67997412/workspace/patient-management/folder/32076392-560c6040-1ca9-429b-8294-c26a30e2127d" class="btn btn-action" target="_blank">Launch Postman Workspace</a>
            </div>
        </section>

        <!-- Key Features -->
        <section class="doc-section" id="key-features">
            <h2>Key Capabilities</h2>
            <div class="features-list">
                <div class="feature-item">
                    <h5>Event-Driven Sync</h5>
                    <p>Asynchronous data propagation using Kafka brokers for high resilience.</p>
                </div>
                <div class="feature-item">
                    <h5>Unified Relational Store</h5>
                    <p>Strategic alignment on PostgreSQL for transactional and identity data.</p>
                </div>
                <div class="feature-item">
                    <h5>Edge Routing</h5>
                    <p>Centralized gateway for routing, filtering, and cross-cutting security.</p>
                </div>
                <div class="feature-item">
                    <h5>Automated Ledger</h5>
                    <p>Programmatic invoice generation and persistence triggered by system events.</p>
                </div>
            </div>
        </section>

        <!-- Design Philosophy -->
        <section class="doc-section" id="why-this">
            <h2>Architecture Philosophy</h2>
            <div class="philosophy-grid">
                <div class="phi-card">
                    <h4>Scalability</h4>
                    <p>Microservices allow independent scaling of high-demand nodes (e.g. Appointment Svc) without over-provisioning the entire system.</p>
                </div>
                <div class="phi-card">
                    <h4>Polyglot Persistence</h4>
                    <p>We use the right tool for the job. Relational data stays in PostgreSQL, while high-volume analytical event logs are streamed to MongoDB.</p>
                </div>
                <div class="phi-card">
                    <h4>Stateless IAM</h4>
                    <p>JWT tokens distribute authentication responsibility, enabling clusters to remain stateless and easily horizontally scalable.</p>
                </div>
            </div>
        </section>

        <footer class="doc-footer">
            <div class="footer-content">
                <p>&copy; 2026 Patient Management System | Technical Documentation</p>
                <div class="footer-links">
                    <a href="https://github.com/doguhanniltextra/patient-management">Github Repository</a>
                    <a href="mailto:doguhannilt@gmail.com">Security Contact</a>
                </div>
            </div>
        </footer>
    </main>
</div>

</body>
</html>
